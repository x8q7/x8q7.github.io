<!DOCTYPE html>


<html lang="zh-CN" >


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="代码,博客,音乐,生活" />
   
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     源
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="源" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">源</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-【JavaScript高级教程】笔记-网络与跨域" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/12/%E3%80%90JavaScript%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E4%B8%8E%E8%B7%A8%E5%9F%9F/"
    >【JavaScript高级教程】笔记-网络与跨域</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/12/%E3%80%90JavaScript%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E4%B8%8E%E8%B7%A8%E5%9F%9F/" class="article-date">
  <time datetime="2020-04-12T13:35:41.000Z" itemprop="datePublished">2020-04-12</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="网络与跨域"><a href="#网络与跨域" class="headerlink" title="网络与跨域"></a>网络与跨域</h2><h3 id="1-跨域"><a href="#1-跨域" class="headerlink" title="1.跨域"></a>1.跨域</h3><blockquote>
<p>同源策略：相同的域，相同的端口，相同的协议。</p>
</blockquote>
<h4 id="1-图像ping"><a href="#1-图像ping" class="headerlink" title="1.图像ping"></a>1.图像ping</h4><p>一个网页可以从任何网页中加载图像，不用担心跨域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var img &#x3D; new Image();</span><br><span class="line">img.onload &#x3D; img.onerror &#x3D; function()&#123;</span><br><span class="line">    console.log(&#39;done&#39;);</span><br><span class="line">&#125;</span><br><span class="line">img.src &#x3D; &quot;http:&#x2F;&#x2F;www.example.com&#x2F;test?name&#x3D;Nicholas&quot;;</span><br></pre></td></tr></table></figure>
<p>请求从设置 src 属性那一刻开始，向服务端发送了一个参数。</p>
<ol>
<li>只能发送get请求；</li>
<li>无法接收响应；</li>
<li>只能从 浏览器=&gt;服务器单项通讯，多用于 跟踪用户点击页面 或 动态广告曝光次数；</li>
</ol>
<h4 id="2-JSONP"><a href="#2-JSONP" class="headerlink" title="2.JSONP"></a>2.JSONP</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function handleResponse(response)&#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">&#125;</span><br><span class="line">var script &#x3D; document.createElement(&quot;script&quot;);</span><br><span class="line">script.src &#x3D; &quot;http:&#x2F;&#x2F;freegeoip.net&#x2F;json&#x2F;?callback&#x3D;handleResponse&quot;;</span><br><span class="line">document.body.insertBefore(script, document.body.firstChild);</span><br></pre></td></tr></table></figure>
<ol>
<li>使用时 可以为<code>src</code> 属性指定一个跨域URL；</li>
<li>与<code>&lt;img&gt;</code>元素类似，都有能力不受限制的从其他域加载资源；</li>
<li>需确定其他域的安全性，有可能响应中夹带一些恶意代码；</li>
<li>确定JSONP 响应的失败与否是不容易的；</li>
</ol>
<h3 id="2-服务端主动推送"><a href="#2-服务端主动推送" class="headerlink" title="2.服务端主动推送"></a>2.服务端主动推送</h3><h4 id="1-SSE"><a href="#1-SSE" class="headerlink" title="1.SSE"></a>1.SSE</h4><blockquote>
<p>SSE（Server-Sent Events,服务器发送事件）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var source &#x3D; new EventSource(&quot;myevents.php&quot;);</span><br><span class="line">source.onmessage &#x3D; function(event)&#123;</span><br><span class="line">    var data &#x3D; event.data;</span><br><span class="line">    &#x2F;&#x2F;处理数据</span><br><span class="line">&#125;</span><br><span class="line">source.close();&#x2F;&#x2F;关闭</span><br></pre></td></tr></table></figure>
<ol>
<li>url必须与创建对象的页面同源。</li>
<li><code>source</code> 实例有一个属性<code>readyState</code>，0 表示正连接到服务器，1 表示打开了连接， 2 表示关闭连接；</li>
<li>服务器事件会 通过一个持久的 HTTP响应发送，响应 MIME 类型为 text/event-stream。响应格式为纯文本；</li>
<li>服务器上生成事件流，需要多添加一行空白行，前端才会触发<code>message</code>事件；</li>
<li>通过 <code>id:</code>前缀可以给特定的事件，指定一个关联的ID；<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data: foo</span><br><span class="line">id: 1</span><br></pre></td></tr></table></figure></li>
<li>设置ID后，EventSource 对象会跟踪上一次触发的事件。</li>
<li>长轮询，页面发起一个请求，到服务器后一直保持连接，直到有数据可发送。发送完成后，立刻发起一个新请求；</li>
</ol>
<h4 id="2-Web-Sockets"><a href="#2-Web-Sockets" class="headerlink" title="2. Web Sockets"></a>2. Web Sockets</h4><blockquote>
<p>Web Sockets 的目标是 在一个独立的持久连接上提供全双工，双向通信。</p>
</blockquote>
<ol>
<li>JavaScript创建Web Sockets 后，会有一个 HTTP请求发送到浏览器以发起连接。</li>
<li>取得服务器响应后，建立的连接就会使用HTTP升级，从 HTTP协议 交换为 Web Socket协议；<code>ws://</code> 或 <code>wss://</code></li>
<li>同源策略对 Web Sockets 不适用，因此可以通过他打开到任何站点的连接，是否建立通讯，完全取决于服务器；</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var socket &#x3D; new WebSocket(&quot;ws:&#x2F;&#x2F;www.example.com&#x2F;server.php&quot;);</span><br><span class="line">socket.onopen &#x3D; function()&#123;</span><br><span class="line">    console.log(&quot;Connection estalished&quot;);</span><br><span class="line">&#125;</span><br><span class="line">socket.onerror &#x3D; function()&#123;</span><br><span class="line">    console.log(&quot;Connection error&quot;);</span><br><span class="line">&#125;</span><br><span class="line">socket.onclose &#x3D; function()&#123;</span><br><span class="line">    console.log(&quot;Connection closed&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-SSE-与-Web-Sockets"><a href="#3-SSE-与-Web-Sockets" class="headerlink" title="3. SSE 与 Web Sockets"></a>3. SSE 与 Web Sockets</h4><ol>
<li>web socket 因为协议不同，需要有自由度建立和维护Web Socket服务器；</li>
<li>常规http通讯，实现服务器推送，SSE就可以满足；</li>
<li>双向通讯就必须用 Web Sockets；</li>
</ol>
<h3 id="3-安全"><a href="#3-安全" class="headerlink" title="3.安全"></a>3.安全</h3><blockquote>
<p>CSRF：Cross-Site Request Forgery, 跨站点请求伪造。</p>
</blockquote>
<ol>
<li>要求以 SSL连接来访问可以XHR请求的资源；</li>
<li>每次请求附带 经过相应算法计算得到的验证码（添加sign）；</li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ajax/" rel="tag">Ajax</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B7%A8%E5%9F%9F/" rel="tag">跨域</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-【JavaScript高级教程】笔记-JSON篇" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/%E3%80%90JavaScript%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E7%AC%94%E8%AE%B0-JSON%E7%AF%87/"
    >【JavaScript高级教程】笔记-JSON篇</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/10/%E3%80%90JavaScript%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E7%AC%94%E8%AE%B0-JSON%E7%AF%87/" class="article-date">
  <time datetime="2020-04-10T14:29:40.000Z" itemprop="datePublished">2020-04-10</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="【JavaScript高级教程】笔记-JSON篇"><a href="#【JavaScript高级教程】笔记-JSON篇" class="headerlink" title="【JavaScript高级教程】笔记-JSON篇"></a>【JavaScript高级教程】笔记-JSON篇</h2><blockquote>
<p>JavaScript Object Notation, Javascript 对象表示法</p>
</blockquote>
<p>注：JSON是一种数据格式，不是一种编程语言。</p>
<h3 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h3><p>JSON的语法可以表示，三种类型的值：</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 简单值：字符串，数值，布尔值，null。不支持 <code>undefined</code>。</li>
<li><input checked="" disabled="" type="checkbox"> 对象：与JavaScript中对象相近，简单或者复杂键值对形式，但是，key 必须用双引号。</li>
<li><input checked="" disabled="" type="checkbox"> 数组：与JavaScript中数组相近，值或者对象的有序列表。</li>
</ul>
<p>注：JSON不支持变量，函数，对象实例。</p>
<h4 id="1-简单值的JSON形式"><a href="#1-简单值的JSON形式" class="headerlink" title="1.简单值的JSON形式"></a>1.简单值的JSON形式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数值： 5</span><br><span class="line">字符串： &quot;hello world!&quot;</span><br><span class="line">布尔值： 布尔值</span><br><span class="line">null： null</span><br></pre></td></tr></table></figure>

<h4 id="2-对象的JSON形式"><a href="#2-对象的JSON形式" class="headerlink" title="2.对象的JSON形式"></a>2.对象的JSON形式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;nike&quot;,</span><br><span class="line">    &quot;age&quot;: 29</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">注：不要写成 单引号。</span><br></pre></td></tr></table></figure>

<h4 id="3-数组的JSON形式"><a href="#3-数组的JSON形式" class="headerlink" title="3.数组的JSON形式"></a>3.数组的JSON形式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[25, &quot;hi&quot;, true]</span><br><span class="line"></span><br><span class="line">也可以是复杂的数组形式，内部值为数组或者对象。</span><br></pre></td></tr></table></figure>
<h3 id="2-解析与序列化"><a href="#2-解析与序列化" class="headerlink" title="2.解析与序列化"></a>2.解析与序列化</h3><h4 id="1-序列化"><a href="#1-序列化" class="headerlink" title="1.序列化"></a>1.序列化</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON.stringify(obj[,filter,indentation])</span><br></pre></td></tr></table></figure>
<h5 id="1-参数"><a href="#1-参数" class="headerlink" title="1.参数"></a>1.参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj：要序列化的JavaScript对象；</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">filter：可以是数组形式，也可以是函数；</span><br><span class="line"></span><br><span class="line">1.数组形式：JSON.stringify()的结果只包含数组中列出的属性。</span><br><span class="line">eg:</span><br><span class="line">var book &#x3D; &#123;</span><br><span class="line">    &quot;title&quot;:&quot;Professional Javascript&quot;,</span><br><span class="line">    &quot;authors&quot;: [</span><br><span class="line">        &quot;Nicholas C. Zakas&quot;</span><br><span class="line">    ],</span><br><span class="line">    edition: 3,</span><br><span class="line">    year: 2011</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var jsonText &#x3D; JSON.stringify(book, [&quot;title&quot;, &quot;edition&quot;]);</span><br><span class="line"></span><br><span class="line">2.函数形式：函数接收两个参数，key和value。函数返回值就是相应键的值。</span><br><span class="line">注：如果返回undefined，则对应的属性被忽略。</span><br><span class="line">var book &#x3D; &#123;</span><br><span class="line">    &quot;title&quot;:&quot;Professional Javascript&quot;,</span><br><span class="line">    &quot;authors&quot;: [</span><br><span class="line">        &quot;Nicholas C. Zakas&quot;</span><br><span class="line">    ],</span><br><span class="line">    edition: 3,</span><br><span class="line">    year: 2011</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var jsonText &#x3D; JSON.stringify(book, function(key, value)&#123;</span><br><span class="line">    switch(key)&#123;</span><br><span class="line">        case &quot;authors&quot;:</span><br><span class="line">            return value.join(&quot;,&quot;);</span><br><span class="line">        </span><br><span class="line">        case &quot;year&quot;:</span><br><span class="line">            return 5000;</span><br><span class="line">        </span><br><span class="line">        case &quot;eiditon&quot;:</span><br><span class="line">            return undefined;</span><br><span class="line">        </span><br><span class="line">        default:</span><br><span class="line">            return value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">indentation: 控制结果中的缩进和空白符。</span><br><span class="line">注：最大缩进为10，大于10会自动转化为10。</span><br><span class="line"></span><br><span class="line">也可以使用制表符或者任意字符，用来填充。</span><br></pre></td></tr></table></figure>
<h5 id="2-toJSON方法"><a href="#2-toJSON方法" class="headerlink" title="2.toJSON方法"></a>2.toJSON方法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var book &#x3D; &#123;</span><br><span class="line">    &quot;title&quot;:&quot;Professional Javascript&quot;,</span><br><span class="line">    &quot;authors&quot;: [</span><br><span class="line">        &quot;Nicholas C. Zakas&quot;</span><br><span class="line">    ],</span><br><span class="line">    edition: 3,</span><br><span class="line">    year: 2011,</span><br><span class="line">    toJSON: function()&#123;</span><br><span class="line">        return this.title</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var jsonText &#x3D; JSON.stringify(book); &#x2F;&#x2F;&quot;Professional Javascript&quot;</span><br><span class="line"></span><br><span class="line">相当于复写了内部方法。</span><br></pre></td></tr></table></figure>
<h5 id="3-序列化顺序"><a href="#3-序列化顺序" class="headerlink" title="3.序列化顺序"></a>3.序列化顺序</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.如果存在toJSON方法且能通过他取得有效值，则调用该方法，否则，返回对象本身；</span><br><span class="line">2.如果提供了参数二，则进行过滤。传入过滤器的值，是第一步返回的值；</span><br><span class="line">3.对第二步返回的值进行序列化；</span><br><span class="line">4.如果提供了参数三，则进行相应格式化；</span><br><span class="line"></span><br><span class="line">注：个人理解像递归函数。</span><br></pre></td></tr></table></figure>
<h4 id="2-解析"><a href="#2-解析" class="headerlink" title="2.解析"></a>2.解析</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON.stringify(obj[,reviver])</span><br></pre></td></tr></table></figure>
<h5 id="1-参数-1"><a href="#1-参数-1" class="headerlink" title="1.参数"></a>1.参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj：要解析的JavaScript对象；</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reviver: 还原函数；</span><br><span class="line">注：如果还原函数返回undefined，则从结果中删除相应的key；如果返回其他值，则正常解析；</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line">var book &#x3D; &#123;</span><br><span class="line">    &quot;title&quot;:&quot;Professional Javascript&quot;,</span><br><span class="line">    &quot;authors&quot;: [</span><br><span class="line">        &quot;Nicholas C. Zakas&quot;</span><br><span class="line">    ],</span><br><span class="line">    edition: 3,</span><br><span class="line">    year: 2011,</span><br><span class="line">    releaseDate: new Date(2011, 11, 1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var jsonText &#x3D; JSON.stringify(book);</span><br><span class="line"></span><br><span class="line">var bookCopy &#x3D; JSON.parse(jsonText, function(key, value)&#123;</span><br><span class="line">    if (key &#x3D;&#x3D; &quot;releaseDate&quot;) &#123;</span><br><span class="line">        return new Date(value);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>






      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JSON/" rel="tag">JSON</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-感悟2020-04-10" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/%E6%84%9F%E6%82%9F2020-04-10/"
    >感悟2020-04-10</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/10/%E6%84%9F%E6%82%9F2020-04-10/" class="article-date">
  <time datetime="2020-04-10T13:02:05.000Z" itemprop="datePublished">2020-04-10</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%84%9F%E6%82%9F/">感悟</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="流民日记第二天"><a href="#流民日记第二天" class="headerlink" title="流民日记第二天"></a>流民日记第二天</h2><p>&emsp;&emsp;2020年4月10日，天气晴，心情阴。</p>
<p>&emsp;&emsp;今天是失业的第二天，一天基本上都没有学习，上午看了下同学的问题（其实比较低级的错误，但是，我第一遍看代码并没有察觉），发现js基础的学习，是需要持续不断的复习。</p>
<p>&emsp;&emsp;就目前而言，js语言及js语言的实践，还有很大一部分是不知道的，所以，接下来要做的，就是尽量去完善自己的知识体系。</p>
<p>&emsp;&emsp;工作经验算起来，整整两年半，沉淀了多少东西，从自己写博客就感觉到了，其实，没多少。</p>
<p>&emsp;&emsp;我要每天沉淀知识，每天更新自己的博客，不一定每天写日记，但是我会在重要的时间轴上，记录下来。</p>
<p>&emsp;&emsp;相信自己，我可以。更强。</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%97%A5%E8%AE%B0/" rel="tag">日记</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-JavaScript位操作" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/JavaScript%E4%BD%8D%E6%93%8D%E4%BD%9C/"
    >JavaScript位操作</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/JavaScript%E4%BD%8D%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2020-04-09T04:01:27.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="位操作符"><a href="#位操作符" class="headerlink" title="位操作符"></a>位操作符</h2><h3 id="1-按位非"><a href="#1-按位非" class="headerlink" title="1.按位非(~)"></a>1.按位非(~)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位取反。(数值的反码) eg. ~25 &#x3D;&gt; -26</span><br></pre></td></tr></table></figure>
<h3 id="2-按位与-amp"><a href="#2-按位与-amp" class="headerlink" title="2.按位与(&amp;)"></a>2.按位与(&amp;)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位取与。</span><br><span class="line"></span><br><span class="line">1 &amp; 1 &#x3D;&gt; 1</span><br><span class="line">1 &amp; 0 &#x3D;&gt; 0</span><br><span class="line">0 &amp; 1 &#x3D;&gt; 0</span><br><span class="line">0 &amp; 0 &#x3D;&gt; 0</span><br></pre></td></tr></table></figure>
<h3 id="3-按位或"><a href="#3-按位或" class="headerlink" title="3.按位或(|)"></a>3.按位或(|)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位或。</span><br><span class="line"></span><br><span class="line">1 &amp; 1 &#x3D;&gt; 1</span><br><span class="line">1 &amp; 0 &#x3D;&gt; 1</span><br><span class="line">0 &amp; 1 &#x3D;&gt; 1</span><br><span class="line">0 &amp; 0 &#x3D;&gt; 0</span><br></pre></td></tr></table></figure>
<h3 id="4-按位异或"><a href="#4-按位异或" class="headerlink" title="4.按位异或(^)"></a>4.按位异或(^)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位异或。</span><br><span class="line"></span><br><span class="line">1 &amp; 1 &#x3D;&gt; 0</span><br><span class="line">1 &amp; 0 &#x3D;&gt; 1</span><br><span class="line">0 &amp; 1 &#x3D;&gt; 1</span><br><span class="line">0 &amp; 0 &#x3D;&gt; 0</span><br></pre></td></tr></table></figure>
<h3 id="5-左移-lt-lt"><a href="#5-左移-lt-lt" class="headerlink" title="5.左移(&lt;&lt;)"></a>5.左移(&lt;&lt;)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位向左移动指定位数。(右侧多出的空位补 0 )</span><br><span class="line"></span><br><span class="line">var oldValue &#x3D; 2;   &#x2F;&#x2F;等于二进制的10</span><br><span class="line">var newValue &#x3D; oldValue &lt;&lt; 5;   &#x2F;&#x2F;等于二进制的1000000，十进制的 64</span><br><span class="line"></span><br><span class="line">注：左移不会影响操作数的符号位。(eg. -2向左移动5位，结果将是 -64，不是 64。)</span><br></pre></td></tr></table></figure>
<h3 id="6-有符号的右移-gt-gt"><a href="#6-有符号的右移-gt-gt" class="headerlink" title="6.有符号的右移(&gt;&gt;)"></a>6.有符号的右移(&gt;&gt;)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位向右移动指定位数，保留符号位，且 使用符号位 填充左侧空缺位。</span><br><span class="line"></span><br><span class="line">var oldValue &#x3D; 64;  &#x2F;&#x2F;等于二进制的1000000</span><br><span class="line">var newValue &#x3D; oldValue &gt;&gt; 5; &#x2F;&#x2F;等于二进制的10，即 十进制的 2</span><br></pre></td></tr></table></figure>
<h3 id="7-无符号右移-gt-gt-gt"><a href="#7-无符号右移-gt-gt-gt" class="headerlink" title="7.无符号右移(&gt;&gt;&gt;)"></a>7.无符号右移(&gt;&gt;&gt;)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">转成二进制，按位向右移动指定位数(所有位，符号位也右移)，不保留符号位，使用 0 填充左侧空缺位。</span><br><span class="line"></span><br><span class="line">eg.</span><br><span class="line">正数右移 与 上 无分别；</span><br><span class="line">负数右移 求 正数的补码，在整体 右移。</span><br></pre></td></tr></table></figure>
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BD%8D/" rel="tag">位</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-docker常用指令" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/docker%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"
    >docker常用指令</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/docker%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/" class="article-date">
  <time datetime="2020-04-09T03:58:12.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="查看运行中的docker"><a href="#查看运行中的docker" class="headerlink" title="查看运行中的docker"></a>查看运行中的docker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">docker ps [OPTIONS]</span><br><span class="line">    -a :显示所有的容器，包括未运行的。</span><br><span class="line">    </span><br><span class="line">    -f :根据条件过滤显示的内容。</span><br><span class="line">    </span><br><span class="line">    --format :指定返回值的模板文件。</span><br><span class="line">    </span><br><span class="line">    -l :显示最近创建的容器。</span><br><span class="line">    </span><br><span class="line">    -n :列出最近创建的n个容器。</span><br><span class="line">    </span><br><span class="line">    --no-trunc :不截断输出。</span><br><span class="line">    </span><br><span class="line">    -q :静默模式，只显示容器编号。</span><br><span class="line">    </span><br><span class="line">    -s :显示总的文件大小。</span><br></pre></td></tr></table></figure>

<h3 id="进入docker"><a href="#进入docker" class="headerlink" title="进入docker"></a>进入docker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it 4f0f3c9400cc bash</span><br><span class="line">    -d :分离模式: 在后台运行</span><br><span class="line">    </span><br><span class="line">    -i :即使没有附加也保持STDIN 打开</span><br><span class="line">    </span><br><span class="line">    -t :分配一个伪终端</span><br></pre></td></tr></table></figure>

<p><a href="https://www.runoob.com/docker/docker-command-manual.html" target="_blank" rel="noopener">docker 常用指令</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8C%87%E4%BB%A4/" rel="tag">指令</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-git删除分支" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/git%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF/"
    >git删除分支</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/git%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF/" class="article-date">
  <time datetime="2020-04-09T03:55:05.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br><span class="line">git push origin --delete ruoyu &#x2F;&#x2F;删除 远程分支</span><br><span class="line">git branch -d ruoyu &#x2F;&#x2F;删除 本地分支</span><br></pre></td></tr></table></figure>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-centos环境安装node" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/centos%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85node/"
    >centos环境安装node</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/centos%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85node/" class="article-date">
  <time datetime="2020-04-09T03:53:36.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="centos环境安装node"><a href="#centos环境安装node" class="headerlink" title="centos环境安装node"></a>centos环境安装node</h2><p><img src="https://hbimg.huabanimg.com/b2c4f8a02983dedb12a00f8e9b05012c3ad0c0ba1c398-zPw5Nm_fw658" alt="花瓣网"></p>
<blockquote>
<p>人和自己相处越久，越明白如何疗愈自我，情绪平复的速度快到无法控制，渐渐觉得连伤口都可贵。但偶尔还是会厌恶我自己，为什么爱在悲伤的时刻讲笑话。</p>
</blockquote>
<h3 id="安装wget"><a href="#安装wget" class="headerlink" title="安装wget"></a>安装wget</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.yum install -y wget</span><br></pre></td></tr></table></figure>

<h3 id="2-下载node"><a href="#2-下载node" class="headerlink" title="2.下载node"></a>2.下载node</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;nodejs.org&#x2F;download&#x2F;release&#x2F;v10.15.3&#x2F;node-v10.15.3-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="3-解压tar文件"><a href="#3-解压tar文件" class="headerlink" title="3.解压tar文件"></a>3.解压tar文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf node-v10.15.3-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="4-配置环境变量"><a href="#4-配置环境变量" class="headerlink" title="4.配置环境变量"></a>4.配置环境变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd node-v10.15.3-linux-x64</span><br><span class="line">pwd</span><br><span class="line">vi &#x2F;etc&#x2F;profile</span><br><span class="line">GG</span><br><span class="line">export NODE_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;src&#x2F;node-v10.15.3-linux-x64</span><br><span class="line">export PATH&#x3D;$NODE_HOME&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure>
<h3 id="5-配置生效"><a href="#5-配置生效" class="headerlink" title="5.配置生效"></a>5.配置生效</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>
<h3 id="6-完成"><a href="#6-完成" class="headerlink" title="6.完成"></a>6.完成</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/centos/" rel="tag">centos</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-nodejs图片验证码" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/nodejs%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/"
    >nodejs图片验证码</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/nodejs%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/" class="article-date">
  <time datetime="2020-04-09T03:36:15.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="nodejs-图片验证码（get接口直接显示图片）"><a href="#nodejs-图片验证码（get接口直接显示图片）" class="headerlink" title="nodejs 图片验证码（get接口直接显示图片）"></a>nodejs 图片验证码（get接口直接显示图片）</h2><p><img src="//hbimg.huabanimg.com/302809fd96b650c61996bf4c4234d4d209d89beca0c9d-eNfhCC_fw658" alt="来自花瓣"></p>
<blockquote>
<p>努力工作，用心创造美好生活。</p>
</blockquote>
<h3 id="1-需求："><a href="#1-需求：" class="headerlink" title="1.需求："></a>1.需求：</h3><h4 id="1-图片验证码，用于限制短信或登录请求次数；"><a href="#1-图片验证码，用于限制短信或登录请求次数；" class="headerlink" title="1.图片验证码，用于限制短信或登录请求次数；"></a>1.图片验证码，用于限制短信或登录请求次数；</h4><h4 id="2-使用get-请求接口，将接口地址直接赋值给-标签的-src-属性，图片可直接显示；"><a href="#2-使用get-请求接口，将接口地址直接赋值给-标签的-src-属性，图片可直接显示；" class="headerlink" title="2.使用get 请求接口，将接口地址直接赋值给  标签的 src 属性，图片可直接显示；"></a>2.使用get 请求接口，将接口地址直接赋值给 <img> 标签的 src 属性，图片可直接显示；</h4><h3 id="2-代码实现"><a href="#2-代码实现" class="headerlink" title="2.代码实现"></a>2.代码实现</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;&#x2F;string&quot;, async (req,res,next)&#x3D;&gt;&#123;</span><br><span class="line">    res.set(&#39;Content-Type&#39;, &#39;image&#x2F;jpeg&#39;);</span><br><span class="line">    &#x2F;&#x2F; res.attachment(&#39;&#x2F;public&#x2F;images&#x2F;node.jpg&#39;);&#x2F;&#x2F;错误方式，触发下载</span><br><span class="line">    let _url &#x3D; path.join(global.filedir, &#39;&#x2F;public&#x2F;images&#x2F;node.jpg&#39;);</span><br><span class="line">    let _img &#x3D; fs.readFileSync(_url);&#x2F;&#x2F;正确方式，返回流文件</span><br><span class="line">    res.send(_img);</span><br><span class="line">    res.status(200).end();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="3-注意："><a href="#3-注意：" class="headerlink" title="3.注意："></a>3.注意：</h3><h4 id="1-src-直接显示，说明返回值，浏览器可直接解析为图片，所以，传输内容为-base64，或者流文件；"><a href="#1-src-直接显示，说明返回值，浏览器可直接解析为图片，所以，传输内容为-base64，或者流文件；" class="headerlink" title="1.src 直接显示，说明返回值，浏览器可直接解析为图片，所以，传输内容为 base64，或者流文件；"></a>1.src 直接显示，说明返回值，浏览器可直接解析为图片，所以，传输内容为 base64，或者流文件；</h4><h4 id="2-需要设置http-返回格式，’image-jpeg’；"><a href="#2-需要设置http-返回格式，’image-jpeg’；" class="headerlink" title="2.需要设置http 返回格式，’image/jpeg’；"></a>2.需要设置http 返回格式，’image/jpeg’；</h4><h4 id="3-返回图片错误思路，设置附件格式，-会触发浏览器下载-；"><a href="#3-返回图片错误思路，设置附件格式，-会触发浏览器下载-；" class="headerlink" title="3.返回图片错误思路，设置附件格式，==会触发浏览器下载==；"></a>3.返回图片错误思路，设置附件格式，==会触发浏览器下载==；</h4>
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81/" rel="tag">图片验证码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Python切割plist文件" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/Python%E5%88%87%E5%89%B2plist%E6%96%87%E4%BB%B6/"
    >Python切割plist文件</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/Python%E5%88%87%E5%89%B2plist%E6%96%87%E4%BB%B6/" class="article-date">
  <time datetime="2020-04-09T03:32:45.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>切割方法源码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#!python  </span><br><span class="line">import os,sys  </span><br><span class="line">from xml.etree import ElementTree  </span><br><span class="line">from PIL import Image  </span><br><span class="line">  </span><br><span class="line">def tree_to_dict(tree):  </span><br><span class="line">    d &#x3D; &#123;&#125;  </span><br><span class="line">    for index, item in enumerate(tree):  </span><br><span class="line">        if item.tag &#x3D;&#x3D; &#39;key&#39;:  </span><br><span class="line">            if tree[index+1].tag &#x3D;&#x3D; &#39;string&#39;:  </span><br><span class="line">                d[item.text] &#x3D; tree[index + 1].text  </span><br><span class="line">            elif tree[index + 1].tag &#x3D;&#x3D; &#39;true&#39;:  </span><br><span class="line">                d[item.text] &#x3D; True  </span><br><span class="line">            elif tree[index + 1].tag &#x3D;&#x3D; &#39;false&#39;:  </span><br><span class="line">                d[item.text] &#x3D; False  </span><br><span class="line">            elif tree[index+1].tag &#x3D;&#x3D; &#39;dict&#39;:  </span><br><span class="line">                d[item.text] &#x3D; tree_to_dict(tree[index+1])  </span><br><span class="line">    return d  </span><br><span class="line">  </span><br><span class="line">def gen_png_from_plist(plist_filename, png_filename):  </span><br><span class="line">    file_path &#x3D; plist_filename.replace(&#39;.plist&#39;, &#39;&#39;)  </span><br><span class="line">    big_image &#x3D; Image.open(png_filename)  </span><br><span class="line">    root &#x3D; ElementTree.fromstring(open(plist_filename, &#39;r&#39;).read())  </span><br><span class="line">    plist_dict &#x3D; tree_to_dict(root[0])  </span><br><span class="line">    to_list &#x3D; lambda x: x.replace(&#39;&#123;&#39;,&#39;&#39;).replace(&#39;&#125;&#39;,&#39;&#39;).split(&#39;,&#39;)  </span><br><span class="line">    for k,v in plist_dict[&#39;frames&#39;].items():  </span><br><span class="line">        rectlist &#x3D; to_list(v[&#39;frame&#39;])  </span><br><span class="line">        width &#x3D; int( rectlist[3] if v[&#39;rotated&#39;] else rectlist[2] )  </span><br><span class="line">        height &#x3D; int( rectlist[2] if v[&#39;rotated&#39;] else rectlist[3] )  </span><br><span class="line">        box&#x3D;(   </span><br><span class="line">            int(rectlist[0]),  </span><br><span class="line">            int(rectlist[1]),  </span><br><span class="line">            int(rectlist[0]) + width,  </span><br><span class="line">            int(rectlist[1]) + height,  </span><br><span class="line">            )  </span><br><span class="line">        sizelist &#x3D; [ int(x) for x in to_list(v[&#39;sourceSize&#39;])]  </span><br><span class="line">        rect_on_big &#x3D; big_image.crop(box)  </span><br><span class="line">  </span><br><span class="line">        if v[&#39;rotated&#39;]:  </span><br><span class="line">            rect_on_big &#x3D; rect_on_big.rotate(90)  </span><br><span class="line">  </span><br><span class="line">        result_image &#x3D; Image.new(&#39;RGBA&#39;, sizelist, (0,0,0,0))  </span><br><span class="line">        if v[&#39;rotated&#39;]:  </span><br><span class="line">            result_box&#x3D;(  </span><br><span class="line">                ( sizelist[0] - height )&#x2F;2,  </span><br><span class="line">                ( sizelist[1] - width )&#x2F;2,  </span><br><span class="line">                ( sizelist[0] + height )&#x2F;2,  </span><br><span class="line">                ( sizelist[1] + width )&#x2F;2  </span><br><span class="line">                )  </span><br><span class="line">        else:  </span><br><span class="line">            result_box&#x3D;(  </span><br><span class="line">                ( sizelist[0] - width )&#x2F;2,  </span><br><span class="line">                ( sizelist[1] - height )&#x2F;2,  </span><br><span class="line">                ( sizelist[0] + width )&#x2F;2,  </span><br><span class="line">                ( sizelist[1] + height )&#x2F;2  </span><br><span class="line">                )  </span><br><span class="line">        result_image.paste(rect_on_big, result_box, mask&#x3D;0)  </span><br><span class="line">  </span><br><span class="line">        if not os.path.isdir(file_path):  </span><br><span class="line">            os.mkdir(file_path)  </span><br><span class="line">        outfile &#x3D; (file_path+&#39;&#x2F;&#39; + k).replace(&#39;gift_&#39;, &#39;&#39;)  </span><br><span class="line">        print outfile, &quot;generated&quot;  </span><br><span class="line">        result_image.save(outfile)  </span><br><span class="line">  </span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:  </span><br><span class="line">    filename &#x3D; sys.argv[1]  </span><br><span class="line">    plist_filename &#x3D; filename + &#39;.plist&#39;  </span><br><span class="line">    png_filename &#x3D; filename + &#39;.png&#39;  </span><br><span class="line">    if (os.path.exists(plist_filename) and os.path.exists(png_filename)):  </span><br><span class="line">        gen_png_from_plist( plist_filename, png_filename )  </span><br><span class="line">    else:  </span><br><span class="line">        print &quot;make sure you have boith plist and png files in the same directory&quot;</span><br></pre></td></tr></table></figure>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/plist%E6%96%87%E4%BB%B6/" rel="tag">plist文件</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-fiddler安卓抓包" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/fiddler%E5%AE%89%E5%8D%93%E6%8A%93%E5%8C%85/"
    >fiddler安卓抓包</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/fiddler%E5%AE%89%E5%8D%93%E6%8A%93%E5%8C%85/" class="article-date">
  <time datetime="2020-04-09T03:25:53.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a> / <a class="article-category-link" href="/categories/%E9%9A%8F%E7%AC%94/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="fiddler对安卓APP抓包"><a href="#fiddler对安卓APP抓包" class="headerlink" title="fiddler对安卓APP抓包"></a>fiddler对安卓APP抓包</h2><p><img src="http://hbimg.huabanimg.com/0deb5da511be824e89d90c2f91301d91e9cdbe212d5db-uP39rc_fw658" alt="来自花瓣"></p>
<blockquote>
<p>心太软的人快乐是不容易的，别人伤害她或她伤害别人都让她在心里病一场。</p>
</blockquote>
<h3 id="1-导出证书"><a href="#1-导出证书" class="headerlink" title="1.导出证书"></a>1.导出证书</h3><h3 id="2-手机安装证书"><a href="#2-手机安装证书" class="headerlink" title="2.手机安装证书"></a>2.手机安装证书</h3><h3 id="3-勾选配置项"><a href="#3-勾选配置项" class="headerlink" title="3.勾选配置项"></a>3.勾选配置项</h3><pre><code>1.HTTPS 解密

2.忽略服务器证书错误

3.允许远程计算机链接</code></pre><h3 id="4-设置手机finddler-代理（电脑IP-amp-finddler-port）"><a href="#4-设置手机finddler-代理（电脑IP-amp-finddler-port）" class="headerlink" title="4.设置手机finddler 代理（电脑IP &amp; finddler port）"></a>4.设置手机finddler 代理（电脑IP &amp; finddler port）</h3><h3 id="5-检查手机电脑链接同一网络"><a href="#5-检查手机电脑链接同一网络" class="headerlink" title="5.检查手机电脑链接同一网络"></a>5.检查手机电脑链接同一网络</h3><h3 id="6-开心调试"><a href="#6-开心调试" class="headerlink" title="6.开心调试"></a>6.开心调试</h3><p>感谢原文：<a href="https://www.cnblogs.com/king8/p/9016007.html" target="_blank" rel="noopener">https://www.cnblogs.com/king8/p/9016007.html</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/" rel="tag">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%93%E5%8C%85/" rel="tag">抓包</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020
        x8q7
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ti4.jpg" alt="源"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="https://melodyruoyu.lofter.com/" target="_blank" rel="noopener">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2020/04/08/about/">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿一切美好，从此刻开始', ''],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>



<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>





<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>


    
  </div>
</body>

</html>